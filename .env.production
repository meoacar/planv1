# ========================================
# PRODUCTION ENVIRONMENT - Frankfurt Server
# ========================================
# Ubuntu 24.04 LTS - Germany Frankfurt
# Last Updated: 2025-11-19

# ========================================
# APP CONFIGURATION
# ========================================
NEXT_PUBLIC_APP_URL=https://zayiflamaplanim.com
NODE_ENV=production

# ========================================
# DATABASE (XAMPP MySQL on Ubuntu)
# ========================================
# Local MySQL on Ubuntu server
DATABASE_URL="mysql://zayiflamaplan_user:Djcoder_0539@localhost:3306/zayiflamaplan_prod?connection_limit=20&pool_timeout=120&connect_timeout=60&socket_timeout=60"

# ========================================
# NEXTAUTH (Authentication)
# ========================================
NEXTAUTH_URL=https://zayiflamaplanim.com
# CRITICAL: Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=GENERATE_WITH_OPENSSL_RAND_BASE64_32
AUTH_SECRET=GENERATE_WITH_OPENSSL_RAND_BASE64_32

# ========================================
# GOOGLE OAUTH (Optional)
# ========================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=

# ========================================
# REDIS (CRITICAL - Required for Confession System!)
# ========================================
# Option 1: Local Redis on Ubuntu (Recommended for Frankfurt server)
REDIS_URL=redis://localhost:6379

# Option 2: Upstash Redis (Free tier - if you prefer cloud)
# REDIS_URL=redis://default:YOUR_UPSTASH_PASSWORD@eu2-caring-mantis-12345.upstash.io:6379

# ========================================
# OPENAI API (CRITICAL - Required for AI Responses!)
# ========================================
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=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
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_MAX_TOKENS=200
OPENAI_TEMPERATURE=0.7
OPENAI_TIMEOUT=5000

# ========================================
# GOOGLE GEMINI AI (For Weekly Summaries)
# ========================================
# Current key (verify if still valid)
GEMINI_API_KEY=AIzaSyC24B5flx2C-OLJvfEQbTpJH89FSq27eF4

# ========================================
# EMAIL (Resend)
# ========================================
# Current key (verify if still valid)
RESEND_API_KEY=re_PqEV9qWg_MGa1VcgoogGTJhwcUfFXXeWe
EMAIL_FROM="ZayiflamaPlan <noreply@zayiflamaplanim.com>"
ADMIN_EMAIL=admin@zayiflamaplanim.com

# ========================================
# WEB PUSH NOTIFICATIONS (VAPID)
# ========================================
NEXT_PUBLIC_VAPID_PUBLIC_KEY=BO7e_gsvY0lZS5-vT7u42Xq7QoWh9duilgThgp3cKHCZj3LltCayQsiXpiDwPtzUCaToaweI6e44YOYb3zkpUcQ
VAPID_PRIVATE_KEY=YcyUxWNgzUFq-93xCwBum4G3k_wHqT5NBELQy0Ouejc
VAPID_SUBJECT=mailto:admin@zayiflamaplanim.com

# ========================================
# CRON JOB SECRET (CRITICAL!)
# ========================================
# Generate with: openssl rand -base64 32
CRON_SECRET=GENERATE_WITH_OPENSSL_RAND_BASE64_32

# ========================================
# FILE UPLOAD
# ========================================
UPLOAD_DIR=./public/uploads
MAX_FILE_SIZE=5242880

# ========================================
# RATE LIMITING
# ========================================
RATE_LIMIT_ENABLED=true
CONFESSION_DAILY_LIMIT=3
EMPATHY_HOURLY_LIMIT=100
REPORT_DAILY_LIMIT=10

# ========================================
# CACHE CONFIGURATION (Redis TTL in seconds)
# ========================================
CACHE_FEED_TTL=300
CACHE_POPULAR_TTL=3600
CACHE_STATS_TTL=3600
CACHE_AI_RESPONSE_TTL=604800

# ========================================
# QUEUE CONFIGURATION
# ========================================
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRIES=3
QUEUE_TIMEOUT=10000

# ========================================
# SECURITY
# ========================================
ALLOWED_ORIGINS=https://zayiflamaplanim.com,https://www.zayiflamaplanim.com
CSP_ENABLED=true

# ========================================
# FEATURE FLAGS
# ========================================
FEATURE_CONFESSION_WALL=true
FEATURE_SEASONAL_THEMES=true
FEATURE_TELAFI_PLANS=true
FEATURE_AI_RESPONSES=true

# ========================================
# LOGGING
# ========================================
LOG_LEVEL=info
LOG_FORMAT=json

# ========================================
# PERFORMANCE
# ========================================
NEXT_TELEMETRY_DISABLED=1

# ========================================
# MAINTENANCE MODE
# ========================================
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE="Sistem bakımda. Kısa süre sonra döneceğiz."
